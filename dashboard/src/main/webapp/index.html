<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Welcome to OpenShift</title>
    <!--
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.13/css/dataTables.bootstrap.min.css" />
-->
    <link rel="stylesheet" href="/css/main.css" />
    <!--
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.5.1/socket.io.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/pnotify/3.0.0/pnotify.js"></script>
    <script type="text/javascript" src="customjs/main.js"></script>
    <link href="https://cdn.jsdelivr.net/pnotify/3.0.0/pnotify.css" media="all" rel="stylesheet" type="text/css" />
    <!--Paternfly deps -->
    <!-- PatternFly Styles -->
    <link rel="stylesheet" href="bower_components/patternfly/dist/css/patternfly.min.css">
    <link rel="stylesheet" href="bower_components/patternfly/dist/css/patternfly-additions.min.css">
    <!-- jQuery -->
    <script src="bower_components/jquery/dist/jquery.min.js"></script>
    <!-- Bootstrap JS -->
    <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <!-- C3, D3 - Charting Libraries -->
    <script src="bower_components/c3/c3.min.js"></script>
    <script src="bower_components/d3/d3.min.js"></script>
    <!-- Datatables, jQuery Grid Component -->
    <!-- Note: jquery.dataTables.js must occur in the html source before patternfly*.js.-->
    <script src="bower_components/datatables/media/js/jquery.dataTables.min.js"></script>
    <script src="bower_components/drmonty-datatables-colvis/js/dataTables.colVis.js"></script>
    <script src="bower_components/datatables.net-colreorder/js/dataTables.colReorder.js"></script>
    <!-- PatternFly Custom Componets -  Sidebar, Popovers and Datatables Customizations -->
    <!-- Note: jquery.dataTables.js must occur in the html source before patternfly*.js.-->
    <script src="bower_components/patternfly/dist/js/patternfly.min.js"></script>
    <!-- Patternfly end -->
</head>

<body>
    <div class="row">
        <nav class="navbar navbar-inverse navbar-fixed-top">
            <div class="navbar-brand"> <i class="fa fa-desktop" aria-hidden="true"></i> Forklift Exporter
                <!--<img src="imgs/logo.png" alt="image of logo" style="width:204px;height:48px;">--></div>
            <ul class="nav navbar-nav pull-right" id="main-navigation">
                <li> <a href="#" class="pull-right"><i class="fa fa-user" aria-hidden="true"></i>
                        Admin</a></li>
                <li>
                    <a href="/#/settings" class="pull-right"> <i class="fa fa-cog" aria-hidden="true"></i> Settings</a>
                </li>
                <li> <a href="#" class="pull-right"><i class="fa fa-sign-out" aria-hidden="true"></i> Sign out </a> </li>
            </ul>
        </nav>
    </div>
    <section class='container' style="margin-top: 50px;">
        <!--
       <section class='col-xs-12 col-sm-6 col-md-6'>
    <section> </section>
</section>
-->
        <!-- PatternFly Starts-->

        <body class="cards-pf">
            <div class="container-fluid container-cards-pf">
                <div class="row row-cards-pf">
                    <div class="col-xs-6 col-sm-4 col-md-4">
                        <div class="card-pf card-pf-accented card-pf-aggregate-status">
                            <h2 class="card-pf-title">
    <span class="fa fa-shield"></span><span class="card-pf-aggregate-status-count">0</span> Ipsum
  </h2>
                            <div class="card-pf-body">
                                <p class="card-pf-aggregate-status-notifications"> <span class="card-pf-aggregate-status-notification"><a href="#" class="add" data-toggle="tooltip" data-placement="top" title="Add Ipsum"><span class="pficon pficon-add-circle-o"></span></a>
                                    </span>
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-6 col-sm-4 col-md-4">
                        <div class="card-pf card-pf-accented card-pf-aggregate-status">
                            <h2 class="card-pf-title">
    <a href="#"><span class="fa fa-shield"></span><span class="card-pf-aggregate-status-count">20</span> Amet</a>
  </h2>
                            <div class="card-pf-body">
                                <p class="card-pf-aggregate-status-notifications"> <span class="card-pf-aggregate-status-notification"><a href="#"><span class="pficon pficon-error-circle-o"></span>4</a>
                                    </span> <span class="card-pf-aggregate-status-notification"><a href="#"><span class="pficon pficon-warning-triangle-o"></span>1</a>
                                    </span>
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-6 col-sm-4 col-md-4">
                        <div class="card-pf card-pf-accented card-pf-aggregate-status">
                            <h2 class="card-pf-title">
    <a href="#"><span class="fa fa-shield"></span><span class="card-pf-aggregate-status-count">9</span> Adipiscing</a>
  </h2>
                            <div class="card-pf-body">
                                <p class="card-pf-aggregate-status-notifications"> <span class="card-pf-aggregate-status-notification"><span class="pficon pficon-ok"></span></span>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- /row -->
            </div>
            <!-- /container -->
            <script src="/components/jquery-match-height/dist/jquery.matchHeight-min.js"></script>
            <script>
                $(function () {
                    // matchHeight the contents of each .card-pf and then the .card-pf itself
                    $(".row-cards-pf > [class*='col'] > .card-pf .card-pf-title").matchHeight();
                    $(".row-cards-pf > [class*='col'] > .card-pf > .card-pf-body").matchHeight();
                    $(".row-cards-pf > [class*='col'] > .card-pf > .card-pf-footer").matchHeight();
                    $(".row-cards-pf > [class*='col'] > .card-pf").matchHeight();
                    // initialize tooltips
                    $('[data-toggle="tooltip"]').tooltip();
                });
            </script>
        </body>
        <!-- PatternFly Ends -->
        <!-- c3 chart starts-->
        <div id="chart"></div>
        <script type="application/javascript">
            var upload = 100;

            function timeout() {
                setTimeout(function () {
                    upload += getRandomInt(1, 20);
                    var chart = c3.generate({
                        bindto: '#chart'
                        , data: {
                            json: [
                                {
                                    name: 'www.site1.com'
                                    , upload: 199
                                    , download: 200
                                    , total: 400
                                }
                                , {
                                    name: 'www.site2.com'
                                    , upload: 100
                                    , download: 300
                                    , total: 400
                                }
                                , {
                                    name: 'www.site3.com'
                                    , upload: upload
                                    , download: 200
                                    , total: 500
                                }
                                , {
                                    name: 'www.site4.com'
                                    , upload: 400
                                    , download: 100
                                    , total: 500
                                }
    , ]
                            , keys: {
                                // x: 'name', // it's possible to specify 'x' when category axis
                                value: ['upload', 'download']
                            , }
                        }
                        , axis: {
                            x: {
                                // type: 'category'
                            }
                        }
                    });
                    //chart.transform('bar');
                    console.log("Chart Update");
                    timeout();
                }, 1000);
            }

            function getRandomInt(min, max) {
                return Math.floor(Math.random() * (max - min + 1)) + min;
            }
            console.log("Chart changed")
            timeout();
            /**
             * Returns a random integer between min (inclusive) and max (inclusive)
             * Using Math.round() will give you a non-uniform distribution!
             */
        </script>
        <!-- c3 chart ends-->
        <div class="row">
            <section>
                <div>
                    <h2>Pipelines</h2>
                    <button type="button" style="float:right;margin: 10px;" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#myModal"> Add Pipeline </button>
                </div>
                <table id="example" class="table table-striped table-bordered" cellspacing="0" width="100%">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Source</th>
                            <th>Sink</th>
                            <th>Properties</th>
                            <th>Action </th>
                        </tr>
                    </thead>
                    <tbody id="pipelineList">
                        <tr>
                            <td>p1</td>
                            <td>file:///home/zhassan/Downloads/rocknroll.parquet</td>
                            <td>hdfs://localhost:9000/test5/</td>
                            <td>source.dataformat=parquet, sink.dataformat=parquet</td>
                            <td>
                                <div class="dropdown">
                                    <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Options <span class="caret"></span></button>
                                    <ul class="dropdown-menu">
                                        <li><a data-toggle="modal" data-target="#runPipeline">Run</a></li>
                                        <li><a>View Logs</a></li>
                                        <li><a>Cancel</a></li>
                                    </ul>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </section>
        </div>
    </section>
    <!-- Model Start -->
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">Add Pipeline</h4> </div>
                <div class="modal-body">
                    <div id="foodOrder">
                        <div class="form-group">
                            <label for="source">Source</label>
                            <input type="text" class="form-control" id="source" name="source" placeholder="  ">
                            <label for="sink">Source</label>
                            <input type="text" class="form-control" id="sink" name="sink" placeholder="  "> </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button onclick="submitForm();" class="btn btn-primary btn-info"><span class="glyphicon glyphicon-cloud-upload"></span> Create</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Model End -->
    <!-- Model (Run) Start -->
    <div class="modal fade" id="runPipeline" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">Run</h4> </div>
                <div class="modal-body"> Are you sure you want to run this pipeline ? </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button onclick="runPipeline();" class="btn btn-primary btn-info"><span class="glyphicon glyphicon-play-circle"></span> Run</button>
                </div>
            </div>
        </div>
    </div>
    <!--MODEL RUN end-->
</body>
<script>
    (function () {
        addPipeline("f1", "file://", "s3://", "none");
        addPipeline("f2", "file://", "s3://", "none");
        addPipeline("f3", "file://", "s3://", "none");
    }())
</script>

</html>