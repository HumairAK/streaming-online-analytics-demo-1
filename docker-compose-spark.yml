version: '2'

services:
  sparkMaster:
    image: radanalyticsio/openshift-spark
    container_name: sparkMaster
    ports:
      - "8081:8080"
      - "7077:7077"
  sparkWorker1:
    image: radanalyticsio/openshift-spark
    container_name: sparkWorker1
    command: /opt/spark/bin/spark-class org.apache.spark.deploy.worker.Worker spark://sparkMaster:7077
    links:
      - sparkMaster:sparkMaster
    environment:
      - "SPARK_MASTER_ADDRESS=spark://sparkMaster:7077"
      - "SPARK_USER=bob"
